<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />  

  <title>Shake It!</title>

  <link rel="shortcut icon" href="/favicon.ico"></link>
  <link rel="apple-touch-icon" href="/apple-touch-icon.png"></link>
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a2/jquery.mobile-1.0a2.min.css" />
  <style type="text/css">
    #scores .ui-bar .time {
      float: left;
    }
    #scores .ui-bar .created_at {
      float: right;
    }
    #game .score {
      color: #999;
      background-color: #FFF;
    }
    .staff {
      /*display: none;*/
    }
  </style>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/mobile/1.0a2/jquery.mobile-1.0a2.min.js"></script>
</head>
<body>
  <!-- HOME -->
  <div data-role="page" id="home">
    <header data-role="header">
      <h1>Twet Bar</h1>
      <a href="#about" data-icon="info" class="ui-btn-right">About</a>
    </header>

    <div data-role="content">
      <a href="#game"   data-role="button" data-icon="star">Start Game</a>
      <a href="#scores" data-role="button" data-icon="grid">Scores</a>
    </div><!-- content -->


    <footer data-role="footer" data-position="fixed"><h4>goodstick.org</h4></footer>
  </div><!-- #home -->

  <!-- SCORES -->
  <div data-role="page" id="scores">
    <header data-role="header">
      <h1>Scores</h1>
      <a href="#" data-icon="delete" class="ui-btn-right">Clear</a>
    </header>

    <div data-role="content">
      <p>Loading scores...</p>
    </div><!-- content -->

    <footer data-role="footer"><h4>goodstick.org</h4></footer>
  </div><!-- #scores -->

  <!-- ABOUT -->
  <div data-role="page" id="about">
    <header data-role="header"><h1>About this app</h1></header>

    <div data-role="content">
      <p>test</p>
    </div><!-- content -->

    <footer data-role="footer" data-position="fixed"><h4>goodstick.org</h4></footer>
  </div><!-- #about -->

  <!-- GAME -->
  <div data-role="page" id="game" data-theme="a">
    <header data-role="header"><h1>Shake!</h1></header>

    <div data-role="content">
      <a href="#" data-role="button" id="start_game">Start</a>
      <div class="ui-bar ui-bar-a"><div class="score">0</div></div>
      <div class="stuff"> 
        <audio id="audio" src="pong.mp3" preload="auto">
          Your browser does not support the <code>audio</code> element.  
        </audio> 
      </div>
    </div><!-- content -->

    <footer data-role="footer" data-position="fixed"><h4>goodstick.org</h4></footer>
  </div><!-- #game -->


  <script type="text/javascript" src="javascripts/shakeit.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      initDb();

      $("#game").bind("pageshow", function(event, ui) {
        updateGameScore();
      } ).bind("pagehide", function(event, ui) {
        game_abort();
      } );
      start_button = $("#game #start_game");
      start_button.bind("click", function() {
        if (game_started) {
          game_abort();
        } else {
          game_start();
        }
      } );

      $("#scores").bind("pagebeforeshow", function(event, ui) {
        loadScores(renderScores);
      } ).bind("pagebeforecreate", function(event, ui) {
        loadScores(renderScores);
      } );

      $("#score a[data-icon=delete]").bind("click", function(event) {
        clearScores(renderScores);
      } );
    } );
  </script>
</body>
</html>
